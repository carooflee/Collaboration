<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Compiled and minified JavaScript, Materialize-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body>
     <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <div class="display-food"></div>
    <script type="text/javascript">
        let foodChoice = "thai"//search.val();
        //let ingredients = ingredients.val();
        let i = 0;
        let settings = {
            "async": true,
            "crossDomain": true,
            "url": `https://tasty.p.rapidapi.com/recipes/list?tags=under_30_minutes&q=${foodChoice}&from=0&sizes=5`,
            "method": "GET",
            "headers": {
                "x-rapidapi-host": "tasty.p.rapidapi.com",
                "x-rapidapi-key": "6b993b882bmsha7daac7eff39d3cp1825fcjsn0ba77ad0c74a"
            }
        }
       $.ajax(settings).then(function (response) {
			console.log(response);
			console.log(response.results[i].name);
			let foods = response.results;
			$.each(foods, function (index, food) {
				let foodTitle = $("<button>").text(food.name);
				$(".display-food").append(foodTitle);
				foodTitle.on("click", function () {
					$(".display-food").empty();
					let foodDiv = $("<div>").addClass("card");
					let foodImage = $("<img>").attr("src", food.thumbnail_url).width("150px").height("150px");
					let recipeArr = food.instructions;
					foodDiv.append(foodImage);
					let instructionsDiv = $("<div>").addClass("container");
					for (let i = 0; i < recipeArr.length; i++) {
						let foodRecipe = $("<li>").text(recipeArr[i].display_text);
						console.log(recipeArr[i].display_text);
						instructionsDiv.append(foodRecipe);
					}
					foodDiv.append(instructionsDiv);
					$(".display-food").append(foodDiv);
				})

			})

		});


	</script>
</body>

</html>
